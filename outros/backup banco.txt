create table disciplina(
idDisciplina int(11) AUTO_INCREMENT PRIMARY KEY,
nomeDisciplina varchar(255) NOT NULL
);

create table turma(
idTurma int(11) AUTO_INCREMENT PRIMARY KEY,
serie int(11) NOT NULL,
nomeTurma varchar(255)
);

CREATE TABLE estado (
idEstado int(11) AUTO_INCREMENT PRIMARY KEY,
nome varchar(255) NOT NULL,
sigla varchar(255 NOT NULL)
);

CREATE TABLE endereco (
idEndereco int(11) AUTO_INCREMENT PRIMARY KEY,
bairro varchar(255),
cep varchar(255),
cidade varchar(255),
complemento varchar(255),
numero int(11),
rua varchar(255),
idEstado INTEGER,
FOREIGN KEY (idEstado) REFERENCES estado(idEstado)
);

create table usuario(
idUsuario int(11) AUTO_INCREMENT PRIMARY KEY,
nome varchar(255) NOT NULL,
email varchar(255) NOT NULL,
pass varchar(255) NOT NULL,
telefone1 varchar(255),
telefone2 varchar(255),
idEndereco int(11),
salt varchar(255),
is_deleted bool,
FOREIGN KEY (idEndereco) REFERENCES endereco(idEndereco) 
);

create table professor(
idProfessor int(11) AUTO_INCREMENT PRIMARY KEY,
idUsuario int(11),
FOREIGN KEY (idUsuario) REFERENCES usuario(idUsuario) 
);

create table responsavel(
idResponsavel int(11) AUTO_INCREMENT PRIMARY KEY,
idUsuario int(11),
FOREIGN KEY (idUsuario) REFERENCES usuario(idUsuario)
);

create table admin(
idAdmin int(11) AUTO_INCREMENT PRIMARY KEY,
idUsuario int(11),
FOREIGN KEY (idUsuario) REFERENCES usuario(idUsuario)
);

create table aluno(
idAluno int(11) AUTO_INCREMENT PRIMARY KEY,
idUsuario int(11),
idTurma int(11),
FOREIGN KEY (idUsuario) REFERENCES usuario(idUsuario),
FOREIGN KEY (idTurma) REFERENCES turma(idTurma)
);

create table disciplinaPorProfessor(
idDisciplinaPorProfessor int(11) AUTO_INCREMENT PRIMARY KEY,
idProfessor int(11),
idDisciplina int(11),
idTurma int(11),
FOREIGN KEY (idProfessor) REFERENCES professor(idProfessor),
FOREIGN KEY (idDisciplina) REFERENCES disciplina(idDisciplina),
FOREIGN KEY (idTurma ) REFERENCES turma(idTurma)
);

create table responsavelPorAluno(
idResponsavelPorAluno int(11) AUTO_INCREMENT PRIMARY KEY,
idResponsavel int(11),
idAluno int(11),
FOREIGN KEY (idResponsavel) REFERENCES responsavel(idResponsavel),
FOREIGN KEY (idAluno) REFERENCES aluno(idAluno)
);

create table notaPorAluno(
idNotaPorAluno int(11) AUTO_INCREMENT PRIMARY KEY,
idAluno int(11),
idDisciplina int(11),
idTurma int(11),
nota1 float,
nota2 float,
nota3 float,
nota4 float,
rec1 float,
rec2 float,
rec3 float,
rec4 float,
FOREIGN KEY (idAluno) REFERENCES aluno(idAluno),
FOREIGN KEY (idDisciplina) REFERENCES disciplina(idDisciplina),
FOREIGN KEY (idTurma) REFERENCES turma(idTurma)
);

CREATE TABLE faltaPorAluno
(
idFaltaPorAluno int(11) AUTO_INCREMENT PRIMARY KEY,
idAluno int(11),
idDisciplina int(11),
idTurma int(11),
dataDaFalta date,
FOREIGN KEY (idAluno) REFERENCES aluno(idAluno),
FOREIGN KEY (idDisciplina) REFERENCES disciplina(idDisciplina),
FOREIGN KEY (idTurma) REFERENCES turma(idTurma)
);

CREATE TABLE fotosDeAvatar (
idFoto int(11) AUTO_INCREMENT PRIMARY KEY,
imagemThumbUrl varchar(255),
imagemUrl varchar(255),
idUsuario int(11),
FOREIGN KEY (idUsuario) REFERENCES usuario(idUsuario)
);